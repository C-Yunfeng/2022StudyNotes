{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, vModelCheckbox as _vModelCheckbox, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vShow as _vShow, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-cbeb59d2\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"todo-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"label\", null, [_createCommentVNode(\"写法1\"), _createCommentVNode(\"<input type=\\\"checkbox\\\" :checked=\\\"isAll\\\" @change=\\\"checkAll\\\"/>\"), _createCommentVNode(\"写法2.v-model可以同时实现初始化+后续修改操作\"), _withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $options.isAll = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $options.isAll]])]), _createElementVNode(\"span\", null, [_createElementVNode(\"span\", null, \"已完成\" + _toDisplayString($options.completedCount), 1 /* TEXT */), _createTextVNode(\" / 全部\" + _toDisplayString($options.totalCount), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-danger\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.clearAll && $options.clearAll(...args))\n  }, \"清除已完成任务\")], 512 /* NEED_PATCH */)), [[_vShow, $options.totalCount]]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAa;;wCAAxBC,oBAWM,OAXNC,UAWM,GAVJC,oBAKQ,gBAJNC,0BAAU,EACVA,yFAAmE,EACnEA,kDAAkC,kBAClCD,oBAAwC;IAAjCE,IAAI,EAAC,UAAU;+DAAUC,cAAK;qDAALA,cAAK,OAEvCH,oBAEO,eADLA,oBAAkC,cAA5B,KAAG,oBAAEG,uBAAc,mCAAS,OAAK,oBAAEA,mBAAU,oBAErDH,oBAAiE;IAAzDH,KAAK,EAAC,gBAAgB;IAAEO,OAAK,yCAAED,+CAAQ;KAAE,SAAO,sCAVzBA,mBAAU","names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","type","$options","onClick"],"sourceRoot":"","sources":["/Users/chenyunfeng/Github_Pj/2022StudyNotes/Vue2/component/3_SingleComponent/src/components/MyFooter.vue"],"sourcesContent":["<template>\n  <div class=\"todo-footer\" v-show=\"totalCount\">\n    <label>\n      <!--写法1-->\n      <!--<input type=\"checkbox\" :checked=\"isAll\" @change=\"checkAll\"/>-->\n      <!--写法2.v-model可以同时实现初始化+后续修改操作-->\n      <input type=\"checkbox\" v-model=\"isAll\"/>\n    </label>\n    <span>\n      <span>已完成{{completedCount}}</span> / 全部{{totalCount}}\n    </span>\n    <button class=\"btn btn-danger\" @click=\"clearAll\">清除已完成任务</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MyFooter\",\n  props:['todos','checkAllItem','clearAllItem'],\n  computed:{\n    totalCount(){\n      return this.todos.length\n    },\n    completedCount(){\n      // 方法一：reduce\n      // 调用todos.length次\n      // pre为上次调用函数的返回值\n      // this.todos.reduce((pre,current)=>{\n      //   console.log('@',pre,current)\n      //   return pre + (current.done?1:0)\n      // },0)\n      // return this.todos.reduce((pre,current)=>{return pre + (current.done?1:0)},0)\n      // 方法二：filter\n      // return this.todos.filter((t)=>{\n      //   return t.done === true\n      // }).length\n      return this.todos.filter(t=>t.done===true).length\n    },\n    // 写法1.这种方式默认只读：property \"isAll\" is readonly.\n    // isAll(){\n    //   // 计算属性可以套娃\n    //   return this.completedCount===this.totalCount && this.totalCount!==0\n    // }\n    // 写法2.计算属性的完整版写法，就不用再写methods了\n    isAll:{\n      get(){\n        return this.completedCount===this.totalCount && this.totalCount > 0\n      },\n      set(value){\n        this.checkAllItem(value)\n      }\n    }\n  },\n  methods:{\n    // 写法1\n    // checkAll(e){\n    //   this.checkAllItem(e.target.checked)\n    // }\n    clearAll(){\n      this.clearAllItem()\n    }\n  }\n}\n</script>\n\n<style scoped>\n  /*footer*/\n  .todo-footer {\n    height: 40px;\n    line-height: 40px;\n    padding-left: 6px;\n    margin-top: 5px;\n  }\n\n  .todo-footer label {\n    display: inline-block;\n    margin-right: 20px;\n    cursor: pointer;\n  }\n\n  .todo-footer label input {\n    position: relative;\n    top: -1px;\n    vertical-align: middle;\n    margin-right: 5px;\n  }\n\n  .todo-footer button {\n    float: right;\n    margin-top: 5px;\n  }\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}