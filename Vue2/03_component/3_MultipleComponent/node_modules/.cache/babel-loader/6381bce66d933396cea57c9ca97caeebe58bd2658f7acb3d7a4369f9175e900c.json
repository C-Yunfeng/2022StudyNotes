{"ast":null,"code":"export default {\n  name: \"MyFooter\",\n  props: ['todos', 'checkAllItem', 'clearAllItem'],\n  computed: {\n    totalCount() {\n      return this.todos.length;\n    },\n    completedCount() {\n      // 方法一：reduce\n      // 调用todos.length次\n      // pre为上次调用函数的返回值\n      // this.todos.reduce((pre,current)=>{\n      //   console.log('@',pre,current)\n      //   return pre + (current.done?1:0)\n      // },0)\n      // return this.todos.reduce((pre,current)=>{return pre + (current.done?1:0)},0)\n      // 方法二：filter\n      // return this.todos.filter((t)=>{\n      //   return t.done === true\n      // }).length\n      return this.todos.filter(t => t.done === true).length;\n    },\n    // 写法1.这种方式默认只读：property \"isAll\" is readonly.\n    // isAll(){\n    //   // 计算属性可以套娃\n    //   return this.completedCount===this.totalCount && this.totalCount!==0\n    // }\n    // 写法2.计算属性的完整版写法，就不用再写methods了\n    isAll: {\n      get() {\n        return this.completedCount === this.totalCount && this.totalCount > 0;\n      },\n      set(value) {\n        this.checkAllItem(value);\n      }\n    }\n  },\n  methods: {\n    // 写法1\n    // checkAll(e){\n    //   this.checkAllItem(e.target.checked)\n    // }\n  }\n};","map":{"version":3,"mappings":"AAgBA,eAAe;EACbA,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAC,CAAC,OAAO,EAAC,cAAc,EAAC,cAAc,CAAC;EAC7CC,QAAQ,EAAC;IACPC,UAAU,GAAE;MACV,OAAO,IAAI,CAACC,KAAK,CAACC,MAAK;IACzB,CAAC;IACDC,cAAc,GAAE;MACd;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,OAAO,IAAI,CAACF,KAAK,CAACG,MAAM,CAACC,CAAC,IAAEA,CAAC,CAACC,IAAI,KAAG,IAAI,CAAC,CAACJ,MAAK;IAClD,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACAK,KAAK,EAAC;MACJC,GAAG,GAAE;QACH,OAAO,IAAI,CAACL,cAAc,KAAG,IAAI,CAACH,UAAS,IAAK,IAAI,CAACA,UAAS,GAAI;MACpE,CAAC;MACDS,GAAG,CAACC,KAAK,EAAC;QACR,IAAI,CAACC,YAAY,CAACD,KAAK;MACzB;IACF;EACF,CAAC;EACDE,OAAO,EAAC;IACN;IACA;IACA;IACA;EAAA;AAEJ","names":["name","props","computed","totalCount","todos","length","completedCount","filter","t","done","isAll","get","set","value","checkAllItem","methods"],"sourceRoot":"","sources":["/Users/chenyunfeng/Github_Pj/2022StudyNotes/Vue2/component/3_SingleComponent/src/components/MyFooter.vue"],"sourcesContent":["<template>\n  <div class=\"todo-footer\" v-show=\"totalCount\">\n    <label>\n      <!--写法1-->\n      <!--<input type=\"checkbox\" :checked=\"isAll\" @change=\"checkAll\"/>-->\n      <!--写法2.v-model可以同时实现初始化+后续修改操作-->\n      <input type=\"checkbox\" v-model=\"isAll\"/>\n    </label>\n    <span>\n      <span>已完成{{completedCount}}</span> / 全部{{totalCount}}\n    </span>\n    <button class=\"btn btn-danger\">清除已完成任务</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MyFooter\",\n  props:['todos','checkAllItem','clearAllItem'],\n  computed:{\n    totalCount(){\n      return this.todos.length\n    },\n    completedCount(){\n      // 方法一：reduce\n      // 调用todos.length次\n      // pre为上次调用函数的返回值\n      // this.todos.reduce((pre,current)=>{\n      //   console.log('@',pre,current)\n      //   return pre + (current.done?1:0)\n      // },0)\n      // return this.todos.reduce((pre,current)=>{return pre + (current.done?1:0)},0)\n      // 方法二：filter\n      // return this.todos.filter((t)=>{\n      //   return t.done === true\n      // }).length\n      return this.todos.filter(t=>t.done===true).length\n    },\n    // 写法1.这种方式默认只读：property \"isAll\" is readonly.\n    // isAll(){\n    //   // 计算属性可以套娃\n    //   return this.completedCount===this.totalCount && this.totalCount!==0\n    // }\n    // 写法2.计算属性的完整版写法，就不用再写methods了\n    isAll:{\n      get(){\n        return this.completedCount===this.totalCount && this.totalCount > 0\n      },\n      set(value){\n        this.checkAllItem(value)\n      }\n    }\n  },\n  methods:{\n    // 写法1\n    // checkAll(e){\n    //   this.checkAllItem(e.target.checked)\n    // }\n  }\n}\n</script>\n\n<style scoped>\n  /*footer*/\n  .todo-footer {\n    height: 40px;\n    line-height: 40px;\n    padding-left: 6px;\n    margin-top: 5px;\n  }\n\n  .todo-footer label {\n    display: inline-block;\n    margin-right: 20px;\n    cursor: pointer;\n  }\n\n  .todo-footer label input {\n    position: relative;\n    top: -1px;\n    vertical-align: middle;\n    margin-right: 5px;\n  }\n\n  .todo-footer button {\n    float: right;\n    margin-top: 5px;\n  }\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}